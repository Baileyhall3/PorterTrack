#:import utils kivy.utils
<BookedTasks>:
    MDBoxLayout:
        orientation: 'vertical'

        MDTopAppBar:
            id: porter_track_label
            anchor_title: "center"
            type: "top"
            markup: True
            pos_hint: {"top": 1}
            title: "[color=#FFFFFF][i][b][size=48]Porter[/b]Track[/size][/i][/color]"
            left_action_items: [["arrow-left"]]

        ScrollView:
            do_scroll_x: False
            pos_hint: {"center_y": 0.9, "center_x": 0.5}
            size_hint: 0.9, 0.8

            MDBoxLayout:
                id: container
                orientation: 'vertical'
                spacing: 12
                padding: [10,18,10,10]
                size_hint_y: None
                height: self.minimum_height
                row_default_height: '100dp'
                row_force_default: True

    <DialogContent>:
        orientation: "vertical"
        spacing: "10dp"
        size_hint: 1, None
        height: "500dp"

        GridLayout:
            rows: 5
            MDTextField:
                id: task_text
                hint_text: "From..."
                pos_hint: {"center_y": 0.4}
                max_text_length: 50
                on_text_validate: (app.add_task(task_text, date_text.text), app.close_dialog())

            MDTextField:
                id: task_to
                hint_text: "To..."
                pos_hint: {"center_y": 0.4}
                max_text_length: 50

            MDTextField:
                id: task_name
                hint_text: "Name..."
                pos_hint: {"center_y": 0.4}
                max_text_length: 50

            MDTextField:
                id: task_equip
                hint_text: "Using..."
                pos_hint: {"center_y": 0.4}
                max_text_length: 50



            MDIconButton:
                icon: "clock"
                on_release: root.show_time_picker()
                padding: "10dp"

        MDLabel:
            spacing: "10dp"
            id: date_text

        BoxLayout:
            orientation: "horizontal"

            MDRaisedButton:
                text: "SAVE"
                on_release: (app.add_task(task_text, date_text.text), app.close_dialog())

            MDFlatButton:
                text: "CANCEL"
                on_release: app.close_dialog()

    <ListItemWithCheckbox>:
        id: the_list_item
        markup: True

        LeftCheckbox:
            id: check
            on_release:
                root.mark(check, the_list_item)

        IconRightWidget:
            icon: "trash-can-outline"
            theme_text_color: "Custom"
            text_color: 1, 0, 0, 1
            on_release:
                root.delete_item(the_list_item)
